Your task is to improve the test suite by expanding property-based testing (Hypothesis, fast-check) for deterministic business logic. Analyze the codebase to identify code suitable for property-based testing. When appropriate, abstract high-invariant business logic into independent pure functions to enable property-based testing. Test general invariants and function contracts, not implementation details. We are aiming for a comprehensive production-grade high-assurance property-based test suite.
